{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import\"./App.css\";import NavBar from\"./NavBar/NavBar.js\";import Boost from\"./Boost.js\";import Main from\"./Main.js\";import Task from\"./pages/Task.js\";import RefLink from\"./pages/RefLink.js\";import{BrowserRouter as Router,Routes,Route}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[count,setCount]=useState(()=>{const savedCount=localStorage.getItem(\"count\");return savedCount!==null?parseInt(savedCount,10):0;});const[countTrue,setCountTrue]=useState(()=>{const savedCountTrue=localStorage.getItem(\"countTrue\");const lastUpdateTime=localStorage.getItem(\"lastUpdateTime\");if(savedCountTrue!==null&&lastUpdateTime!==null&&Date.now()-parseInt(lastUpdateTime,10)<24*60*60*1000){return Math.max(parseInt(savedCountTrue,10),0);}else{return 10;}});const[timer,setTimer]=useState(10);const[canClick,setCanClick]=useState(true);useEffect(()=>{localStorage.setItem(\"count\",count.toString());localStorage.setItem(\"countTrue\",countTrue.toString());localStorage.setItem(\"lastUpdateTime\",Date.now().toString());const interval=setInterval(()=>{setTimer(prevTimer=>{if(prevTimer>0){return prevTimer-1;}else{setCountTrue(prevCountTrue=>Math.min(prevCountTrue+1,10));return 10;// Reset timer to 10\n}});},1000);return()=>clearInterval(interval);},[count,countTrue]);const handleClick=()=>{if(canClick){setCount(count+1);if(countTrue>0){setCountTrue(Math.max(countTrue-1,0));}setCanClick(false);setTimeout(()=>{setCanClick(true);},100);}};useEffect(()=>{if(countTrue===0){alert(\"–°–∫—Ä—É–¥–∂ —É—Å—Ç–∞–ª üò¥\");}},[countTrue]);return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",element:/*#__PURE__*/_jsx(Main,{count:count,handleClick:handleClick,countTrue:countTrue,canClick:canClick})}),/*#__PURE__*/_jsx(Route,{path:\"/boost\",element:/*#__PURE__*/_jsx(Boost,{count:count})}),/*#__PURE__*/_jsx(Route,{path:\"/task\",element:/*#__PURE__*/_jsx(Task,{})}),/*#__PURE__*/_jsx(Route,{path:\"/link\",element:/*#__PURE__*/_jsx(RefLink,{})})]}),/*#__PURE__*/_jsx(NavBar,{})]})});}export default App;","map":{"version":3,"names":["React","useEffect","useState","NavBar","Boost","Main","Task","RefLink","BrowserRouter","Router","Routes","Route","jsx","_jsx","jsxs","_jsxs","App","count","setCount","savedCount","localStorage","getItem","parseInt","countTrue","setCountTrue","savedCountTrue","lastUpdateTime","Date","now","Math","max","timer","setTimer","canClick","setCanClick","setItem","toString","interval","setInterval","prevTimer","prevCountTrue","min","clearInterval","handleClick","setTimeout","alert","className","children","exact","path","element"],"sources":["/Users/egorkobzev/kru-coin/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport NavBar from \"./NavBar/NavBar.js\";\nimport Boost from \"./Boost.js\";\nimport Main from \"./Main.js\";\nimport Task from \"./pages/Task.js\";\nimport RefLink from \"./pages/RefLink.js\";\nimport { BrowserRouter as Router, Routes, Route } from \"react-router-dom\";\n\nfunction App() {\n  const [count, setCount] = useState(() => {\n    const savedCount = localStorage.getItem(\"count\");\n    return savedCount !== null ? parseInt(savedCount, 10) : 0;\n  });\n\n  const [countTrue, setCountTrue] = useState(() => {\n    const savedCountTrue = localStorage.getItem(\"countTrue\");\n    const lastUpdateTime = localStorage.getItem(\"lastUpdateTime\");\n\n    if (\n      savedCountTrue !== null &&\n      lastUpdateTime !== null &&\n      Date.now() - parseInt(lastUpdateTime, 10) < 24 * 60 * 60 * 1000\n    ) {\n      return Math.max(parseInt(savedCountTrue, 10), 0);\n    } else {\n      return 10;\n    }\n  });\n\n  const [timer, setTimer] = useState(10);\n  const [canClick, setCanClick] = useState(true);\n\n  useEffect(() => {\n    localStorage.setItem(\"count\", count.toString());\n    localStorage.setItem(\"countTrue\", countTrue.toString());\n    localStorage.setItem(\"lastUpdateTime\", Date.now().toString());\n\n    const interval = setInterval(() => {\n      setTimer((prevTimer) => {\n        if (prevTimer > 0) {\n          return prevTimer - 1;\n        } else {\n          setCountTrue((prevCountTrue) => Math.min(prevCountTrue + 1, 10));\n          return 10; // Reset timer to 10\n        }\n      });\n    }, 1000);\n\n    return () => clearInterval(interval);\n  }, [count, countTrue]);\n\n  const handleClick = () => {\n    if (canClick) {\n      setCount(count + 1);\n\n      if (countTrue > 0) {\n        setCountTrue(Math.max(countTrue - 1, 0));\n      }\n\n      setCanClick(false);\n      setTimeout(() => {\n        setCanClick(true);\n      }, 100);\n    }\n  };\n\n  useEffect(() => {\n    if (countTrue === 0) {\n      alert(\"–°–∫—Ä—É–¥–∂ —É—Å—Ç–∞–ª üò¥\");\n    }\n  }, [countTrue]);\n\n\n\n  return (\n    <div className=\"App\">\n      <Router>\n        <Routes>\n          <Route\n            exact\n            path=\"/\"\n            element={\n              <Main\n                count={count}\n                handleClick={handleClick}\n                countTrue={countTrue}\n                canClick={canClick}\n              />\n            }\n          />\n          <Route path=\"/boost\" element={<Boost count={count} />} />\n          <Route path=\"/task\" element={<Task />} />\n          <Route path=\"/link\" element={<RefLink />} />\n        </Routes>\n        <NavBar />\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}